"use strict";(self.webpackChunkfriday=self.webpackChunkfriday||[]).push([[418],{7943:(e,n,s)=>{s.d(n,{y:()=>g});var r=s(168),t=s(2791),a=s(5867),i=s(7462),d=s(665),o=t.forwardRef((function(e,n){return t.createElement(d.r,(0,i.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),t.createElement("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z"}))}));o.displayName="KeyboardBackspace";var c,l=s(7689),h=s(7756),u=s(184);const g=(0,t.memo)((e=>{let{path:n=h.m.packs,text:s="Back to Packs List",...r}=e;const t=(0,l.s0)();return(0,u.jsxs)(m,{onClick:()=>t(n),...r,children:[(0,u.jsx)(o,{}),s]})})),m=a.ZP.button(c||(c=(0,r.Z)(['\n    font-family: "Montserrat", sans-serif;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 24px;\n\n    border: none;\n    width: 18vh;\n    height: 5vh;\n    background: transparent;\n    display: grid;\n    grid-template-columns: 2.5vh 1fr;\n    align-items: center;\n    cursor: pointer;\n    z-index: 2;\n'])))},8418:(e,n,s)=>{s.r(n),s.d(n,{default:()=>ce});var r=s(168),t=s(2791),a=s(2933),i=s(1173),d=s(5867),o=s(7943),c=s(2207),l=s(6864),h=s(7462),u=s(665),g=t.forwardRef((function(e,n){return t.createElement(u.r,(0,h.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),t.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}))}));g.displayName="Tune";var m,x=s(7807),p=s(4352),j=s(5621),v=s(7689),w=s(6989),f=s(8388),C=s(7756),k=s(8576),P=s(1134),b=s(465),Z=s(230),y=s(4703),S=s(7271),I=s(184);const E=["text","image"],H=e=>{let{name:n,image:s,textRegister:r,textError:a,shouldInputDisabled:i,className:d,...o}=e;const[c,l]=(0,t.useState)("text"),h=(0,t.useMemo)((()=>(0,S._)(n)),[n]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(M,{className:d,children:[(0,I.jsxs)("span",{children:[" ",(0,I.jsxs)("b",{children:[n," type:"]})," "]}),(0,I.jsx)(b.r,{optionsValues:E,optionsNames:E,changeHandler:l,condition:c})]}),"text"===c?(0,I.jsx)(Z.I,{placeholder:n,register:r,error:a,disabled:i}):(0,I.jsx)(y.M,{buttonBody:"".concat(h),image:s,...o})]})},M=d.ZP.div(m||(m=(0,r.Z)(["\n    span {\n        justify-self: start;\n    }\n\n    display: grid;\n    grid-template-columns: 1fr auto;\n    align-items: center;\n    padding-bottom: 1vh;\n"])));var V=s(1162),q=s(4695),z=s(8221);const L=e=>{var n,s;let{cardsPack_id:r,id:i,type:d,actionHandler:o,isControlDisabled:c,answer:l,questionImg:h,question:u,answerImg:g,children:m,...x}=e;const[p,j]=(0,t.useState)(h||""),[v,w]=(0,t.useState)(g||""),{register:f,handleSubmit:C,reset:b,formState:{errors:Z}}=(0,P.cI)({defaultValues:{answer:l,question:u},resolver:(0,q.X)(V.Ek)});return(0,I.jsx)(k.P,{buttonContent:"Edit"===d?(0,I.jsx)(z.j,{}):"Create new card",title:"".concat(d," card"),setFormSubmit:C((async e=>{await o({cardsPack_id:r,_id:i,questionImg:p,answerImg:v,...e}),b(),j(""),w("")})),inputsChildrenSection:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(H,{name:"Question",imageHandler:j,image:p,textRegister:f,textError:null===(n=Z.question)||void 0===n?void 0:n.message,shouldInputDisabled:c,clearImageHandler:()=>j("")}),(0,I.jsx)(H,{name:"Answer",imageHandler:w,image:v,textRegister:f,textError:null===(s=Z.answer)||void 0===s?void 0:s.message,shouldInputDisabled:c,clearImageHandler:()=>w("")})]}),controlChildrenSection:(0,I.jsx)(a.z,{type:"submit",disabled:c,children:"".concat(d)}),...x,children:m})};var D=s(6111);const N=e=>{let{cardsPack_id:n}=e;const[s,{isLoading:r,isSuccess:t,reset:a}]=(0,D.bp)();return(0,I.jsx)(L,{type:"Create",actionHandler:s,shouldModalClose:t,resetQuery:a,cardsPack_id:n,isControlDisabled:r})};var _=s(3745);var A=s(9996);var Q=t.forwardRef((function(e,n){return t.createElement(u.r,(0,h.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),t.createElement("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}))}));Q.displayName="Grade";var R,B;const F=e=>{let{grade:n}=e;const s=Math.ceil(n),r=new Array(5);for(let t=0;t<5;t++)t<s?r.push((0,I.jsx)(T,{},t)):r.push((0,I.jsx)(O,{},t));return(0,I.jsx)(I.Fragment,{children:r})},O=(0,d.ZP)(Q)(R||(R=(0,r.Z)(["\n    width: 30px;\n    fill: #9e9e9e99\n"]))),T=(0,d.ZP)(O)(B||(B=(0,r.Z)(["\n    fill: rgb(227 213 86 / 83%)\n"])));var W,U,X;const G=e=>{let{updated:n,question:s,questionImg:r,answer:t,answerImg:a,isOwner:i,grade:d,id:o}=e;return(0,I.jsxs)(c.nL,{children:[(0,I.jsx)("td",{children:r?(0,I.jsx)($,{src:r,alt:"questionImg"}):(0,I.jsx)(c.Tu,{children:s})}),(0,I.jsx)("td",{children:a?(0,I.jsx)($,{src:a,alt:"answerImg"}):(0,I.jsx)(c.Tu,{children:t})}),(0,I.jsx)("td",{children:new Date(n).toLocaleString("en-US")}),(0,I.jsx)("td",{children:(0,I.jsx)(F,{grade:d})}),i&&(0,I.jsxs)(c.RS,{children:[(0,I.jsx)(J,{question:s,questionImg:r,answer:t,answerImg:a,id:o}),(0,I.jsx)(K,{id:o})]})]})},J=(0,d.ZP)((e=>{const[n,{isLoading:s,isSuccess:r,reset:t}]=(0,D.Ei)();return(0,I.jsx)(L,{type:"Edit",actionHandler:n,isControlDisabled:s,shouldModalClose:r,resetQuery:t,...e})}))(W||(W=(0,r.Z)(["\n    ","\n"])),l.sp),K=(0,d.ZP)((e=>{const[n,{isLoading:s,isSuccess:r}]=(0,D.L2)();return(0,I.jsx)(A.N,{shouldModalClose:r,isControlDisabled:s,actionHandler:n,...e})}))(U||(U=(0,r.Z)(["\n    ","\n"])),l.sp),$=d.ZP.img(X||(X=(0,r.Z)(["\n    height: 80px\n"]))),Y=["Question","Answer","Updated","Grade"],ee=e=>{let{cards:n,isOwner:s}=e;const{searchParams:r,useMySetSearchParams:t}=(0,p.W6)(),a=t("sortCards");return(0,I.jsx)(c.Ht,{children:(0,I.jsxs)("table",{children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[Y.map(((e,n)=>(0,I.jsx)(_.Th,{filterValue:(0,S._)(e),onChange:a,searchValue:r.get("sortCards")||"0grade",children:e},n))),s&&(0,I.jsx)("th",{children:"Actions"})]})}),(0,I.jsx)("tbody",{children:n?n.map((e=>(0,I.jsx)(G,{id:e._id,question:e.question,questionImg:e.questionImg,answer:e.answer,answerImg:e.answerImg,updated:e.updated,grade:e.grade,isOwner:s},e._id))):(0,I.jsx)(j.p,{})})]})})};var ne,se,re,te,ae,ie,de=s(8803),oe=s(4855);function ce(){const{cardsPack_id:e}=(0,v.UO)(),[n,s]=(0,t.useState)(!1),r=(0,v.s0)(),{userData:d}=(0,p.CG)(oe.EP),{searchParams:h,useMySetSearchParams:u}=(0,p.W6)(),m=(0,t.useMemo)((()=>({cardQuestion:h.get("cardQuestion")||void 0,sortCards:h.get("sortCards")||"0grade",pageCount:h.get("pageCount")||50,page:h.get("page")||1})),[h]),{data:w,isError:f,isFetching:k}=(0,D.WH)({cardsPack_id:e,...m,pageCount:+m.pageCount,page:+m.page},{refetchOnMountOrArgChange:!0});(0,t.useEffect)((()=>{w&&d&&s(w.packUserId===d._id)}),[w,d]);const P=u("page"),b=u("pageCount");if(f)return(0,I.jsx)(v.Fg,{to:C.m.packs});const Z=()=>r("".concat(C.m.learn,"/").concat(e));return w?(0,I.jsxs)(ge,{children:[(0,I.jsx)(o.y,{}),(0,I.jsxs)(c.k4,{children:[(0,I.jsxs)(me,{children:[w.packName,n&&(0,I.jsxs)("span",{children:[(0,I.jsx)(g,{}),(0,I.jsxs)(xe,{children:[(0,I.jsx)(le,{id:e,name:w.packName,isPrivatePack:w.packPrivate,deckCover:null===w||void 0===w?void 0:w.packDeckCover,children:(0,I.jsx)("span",{children:"Edit"})}),(0,I.jsx)(he,{id:e,name:w.packName,children:(0,I.jsx)("span",{children:"Delete"})}),(0,I.jsxs)(l.Ee,{disabled:!Boolean(w.cards.length),onClick:Z,children:[(0,I.jsx)(x.W,{}),(0,I.jsx)("span",{children:"Learn"})]})]})]}),w.packDeckCover&&(0,I.jsx)(ue,{src:w.packDeckCover,alt:"deckCover"})]}),n?(0,I.jsx)(N,{cardsPack_id:e}):(0,I.jsx)(a.z,{onClick:Z,children:"Learn to pack"})]}),(0,I.jsx)(c.$l,{children:(0,I.jsxs)(c.XV,{children:[(0,I.jsx)(l.Xk,{children:"Search"}),(0,I.jsx)(de.M,{disabled:k,searchName:"cardQuestion",placeholder:"Provide tour text"})]})}),w.cards.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ee,{isOwner:n,cards:w.cards}),(0,I.jsx)(i.t,{disabled:k,itemsName:"Cards",currentPage:w.page,totalItemsCount:w.cardsTotalCount,pageSize:w.pageCount,pageChanged:P,pageSizeChanged:b})]}):(0,I.jsx)(c.km,{children:"NoItemsWithSuchParams"})]}):(0,I.jsx)(j.p,{})}const le=(0,d.ZP)(w.k)(ne||(ne=(0,r.Z)(["\n    ","\n"])),l.S9),he=(0,d.ZP)(f.Q)(se||(se=(0,r.Z)(["\n    ","\n"])),l.S9),ue=(0,d.ZP)(c.hJ)(re||(re=(0,r.Z)(["\n    height: 10vh;\n"]))),ge=(0,d.ZP)(c.E6)(te||(te=(0,r.Z)(["\n    grid-template-rows: 3vh 5vh 1fr auto auto;\n"]))),me=(0,d.ZP)(l.Xk)(ae||(ae=(0,r.Z)(["\n    height: 5vh;\n    display: grid;\n    grid-template-columns: 1fr auto 1fr;\n\n    span {\n        position: relative;\n\n        &:hover {\n            div {\n                display: grid;\n            }\n        }\n\n        padding-right: 1vw;\n    }\n\n    svg {\n        width: 3vh;\n    }\n"]))),xe=(0,d.ZP)(l.xR)(ie||(ie=(0,r.Z)(["\n    top: 4vh;\n    left: -8vh;\n    box-shadow: none;\n"])))}}]);
//# sourceMappingURL=418.de8588ff.chunk.js.map